#:import Clock kivy.clock.Clock
#:import platform kivy.platform
ScreenManager:
    Welcome:
    FirstScreen:
    LoginScreen:
    CreateScreen:
    Content:
    MedMusic:
 
    


<Welcome>:
    name: 'welcome'
    FloatLayout:
        Image:
            source:"assets/Coverpic.png"
            pos_hint:{"center_x":.5 ,"center_y":.8}
            size:(40, 50)
        Label:
            text:"W E L L C O M E!"
            font_name:'Bphopine'
            font_size:'23sp'
            haligh:"center"
            pos_hint:{"center_x":.5 ,"center_y":.6}
            color:rgba(34,34,34,255)
        MDLabel:
            text:"Welcome to the gateway of rhythm and harmony Unleash the power of sound, curate your vibes and let the music be the soundtrack to your life's extraordinary moments."
            font_name:'Mphopine'
            font_size:'13sp'
            size_hint_x:.85
            haligh:"center"
            pos_hint:{"center_x":.5 ,"center_y":.4}
            color:rgba(34,34,34,255)
        Button:
            text:"Login"
            size_hint: .66, .065
            background_color:0,0,0,0
            font_name:"Bphopine"
            pos_hint:{"center_x":.5 ,"center_y":.25}
            on_press: root.manager.current = 'login'
            canvas.before:
                Color:
                    rgb: rgba(52,0,231,255)
                RoundedRectangle:
                    size:self.size
                    pos:self.pos
                    radius:[5]
        Button:
            text:"Signup"
            size_hint: .66, .065
            background_color:0,0,0,0
            font_name:"Bphopine"
            color:rgba(52,0,231,255)
            pos_hint:{"center_x":.5 ,"center_y":.15}
            on_press: root.manager.current = 'create'
            
            canvas.before:
                Color:
                    rgb: rgba(52,0,231,255)
                Line:
                    width:1.2
                    rounded_rectangle:self.x,self.y,self.width,self.height,5,5,5,5,100
<FirstScreen>:
    name: 'first'
   
    
    MDLabel:
        text: "Coincrypto "
        halign : "center"
        font_style : "H3"
        pos_hint : {"center_x" : 0.5,"center_y" : 0.7}
        theme_text_color: "Custom"
        text_color : (6/255.0,129/255.0,252/255.0,1)
        
    MDRectangleFlatButton:
        text: 'log In'
        width : 200
        pos_hint: {'center_x':0.5,'center_y':0.5}
        on_press: root.manager.current = 'login'   
         
    MDRectangleFlatButton:
        text: 'Sign Up'
        pos_hint: {'center_x':0.5,'center_y':0.4}
        on_press: root.manager.current = 'create'
        

                
          
        
   
    
<LoginScreen>:
    name : 'login'
    username:username.text
    password:password.text   
    MDIconButton:
        icon:"arrow-left"
        pos_hint:{"center_x" : 0.1,"center_y" : 0.95}
        on_press: root.manager.current = 'welcome'
    MDLabel:

        text:"W E L C O M E !"
        font_name:'Bphopine'
        font_size:'23sp'
        pos_hint:{"center_x":.54 ,"center_y":.85}
        color:rgba(0,0,59,255) 
    MDLabel:
        text:"Sign In To continue !"
        font_name:'Mphopine'
        font_size:'14sp'
        pos_hint:{"center_x":.56 ,"center_y":.8}
        color:rgba(135,135,135,255) 
    
    MDFloatLayout: 
        size_hint: .7, .07 
        pos_hint: {"center_x":.54 ,"center_y": .63}
        TextInput:
            id:username
            hint_text: "Email" 
            font_name: "Mphopine" 
            size_hint_y:.75
            pos_hint: {"center_x": .43, "center_y": .4} 
            background_color: 1, 1, 1, 0 
            foreground_color: rgba(0, 0, 59, 255) 
            cursor_color: rgba(0, 0, 59, 255) 
            font_size: "14sp" 
            cursor_width: "2sp" 
        MDFloatLayout:
            pos_hint: {"center_x":.45 ,"center_y": 0}
            size_hint_y:.03
            md_bg_color:rgba(178,178,178,255)
    MDFloatLayout: 
        size_hint: .7, .07 
        pos_hint: {"center_x":.54 ,"center_y": .5}
        TextInput:
            id:password
            hint_text: "Password" 
            font_name: "Mphopine" 
            size_hint_y:.75
            pos_hint: {"center_x": .43, "center_y": .4} 
            background_color: 1, 1, 1, 0 
            foreground_color: rgba(0, 0, 59, 255) 
            cursor_color: rgba(0, 0, 59, 255) 
            font_size: "14sp" 
            cursor_width: "2sp" 
            password:True
      
        MDFloatLayout:
            pos_hint: {"center_x":.45 ,"center_y": 0}
            size_hint_y:.03
            md_bg_color:rgba(178,178,178,255)
    
    Button:
        text:"Login"
        size_hint: .66, .065
        background_color:0,0,0,0
        font_name:"Bphopine"
        pos_hint:{"center_x":.5 ,"center_y":.35}
        on_press: root.Login_btn()
        #on_press: app.gl_login()
        canvas.before:
            Color:
                rgb: rgba(52,0,231,255)
            RoundedRectangle:
                size:self.size
                pos:self.pos
                radius:[5]
    
<Content>:
    name:'content'
    orientation: "vertical"
    size_hint_y: None
    height: "90dp"

    AnchorLayout:
        MDSpinner:
            size_hint: None, None
            size: dp(30), dp(30)
            pos_hint: {'center_x': .5, 'center_y': .5}
    
    AnchorLayout:
        MDLabel:
            text: "Logging in..."
            halign: "center"
<MedMusic>:

    name:'music'        
   



<CreateScreen>:
    name: 'create'
    firstname:firstname.text
    lastname:lastname.text
    username:username.text
    password:password.text

    MDIconButton:
        icon:"arrow-left"
        pos_hint:{"center_x" : 0.1,"center_y" : 0.95}
        on_press: root.manager.current = 'welcome'
    
    MDLabel:
        text:"Create a New Account  !"
        font_name:'Mphopine'
        font_size:'20sp'
        pos_hint:{"center_x":.56 ,"center_y":.84}
        color:rgba(0,0,59,255) 

    
    MDFloatLayout: 
        size_hint: .7, .07 
        pos_hint: {"center_x":.54 ,"center_y": .73}
        TextInput:
            id:firstname
            hint_text: "First Name" 
            font_name: "Mphopine" 
            size_hint_y:.75
            pos_hint: {"center_x": .43, "center_y": .4} 
            background_color: 1, 1, 1, 0 
            foreground_color: rgba(0, 0, 59, 255) 
            cursor_color: rgba(0, 0, 59, 255) 
            font_size: "14sp" 
            cursor_width: "2sp" 
        MDFloatLayout:
            pos_hint: {"center_x":.45 ,"center_y": 0}
            size_hint_y:.03
            md_bg_color:rgba(178,178,178,255)
    MDFloatLayout: 
        size_hint: .7, .07 
        pos_hint: {"center_x":.54 ,"center_y": .63}
        TextInput:
            id:lastname
            
            hint_text: "Last Name" 
            font_name: "Mphopine" 
            size_hint_y:.75
            pos_hint: {"center_x": .43, "center_y": .4} 
            background_color: 1, 1, 1, 0 
            foreground_color: rgba(0, 0, 59, 255) 
            cursor_color: rgba(0, 0, 59, 255) 
            font_size: "14sp" 
            cursor_width: "2sp" 
        MDFloatLayout:
            pos_hint: {"center_x":.45 ,"center_y": 0}
            size_hint_y:.03
            md_bg_color:rgba(178,178,178,255)
    MDFloatLayout: 
        size_hint: .7, .07 
        pos_hint: {"center_x":.54 ,"center_y": .53}
        TextInput:
            
            id:username
            hint_text: "E-Mail" 
            font_name: "Mphopine" 
            size_hint_y:.75
            pos_hint: {"center_x": .43, "center_y": .4} 
            background_color: 1, 1, 1, 0 
            foreground_color: rgba(0, 0, 59, 255) 
            cursor_color: rgba(0, 0, 59, 255) 
            font_size: "14sp" 
            cursor_width: "2sp" 
        MDFloatLayout:
            pos_hint: {"center_x":.45 ,"center_y": 0}
            size_hint_y:.03
            md_bg_color:rgba(178,178,178,255)
    MDFloatLayout: 
        size_hint: .7, .07 
        pos_hint: {"center_x":.54 ,"center_y": .43}
        TextInput:
            id:password
            hint_text: "Password" 
            font_name: "Mphopine" 
            size_hint_y:.75
            pos_hint: {"center_x": .43, "center_y": .4} 
            background_color: 1, 1, 1, 0 
            foreground_color: rgba(0, 0, 59, 255) 
            cursor_color: rgba(0, 0, 59, 255) 
            font_size: "14sp" 
            cursor_width: "2sp" 
            password:True
      
        MDFloatLayout:
            pos_hint: {"center_x":.45 ,"center_y": 0}
            size_hint_y:.03
            md_bg_color:rgba(178,178,178,255)
    MDFloatLayout: 
        id:password1
        size_hint: .7, .07 
        pos_hint: {"center_x":.54 ,"center_y": .33}
        TextInput:
            hint_text: "Re-Conform Password" 
            font_name: "Mphopine" 
            size_hint_y:.75
            pos_hint: {"center_x": .43, "center_y": .4} 
            background_color: 1, 1, 1, 0 
            foreground_color: rgba(0, 0, 59, 255) 
            cursor_color: rgba(0, 0, 59, 255) 
            font_size: "14sp" 
            cursor_width: "2sp" 
        MDFloatLayout:
            pos_hint: {"center_x":.45 ,"center_y": 0}
            size_hint_y:.03
            md_bg_color:rgba(178,178,178,255)
    Button:
        text:"Signup"
        size_hint: .66, .065
        background_color:0,0,0,0
        font_name:"Bphopine"
        pos_hint:{"center_x":.5 ,"center_y":.23}
        on_press: root.create_acc()
        canvas.before:
            Color:
                rgb: rgba(52,0,231,255)
            RoundedRectangle:
                size:self.size
                pos:self.pos
                radius:[5]
